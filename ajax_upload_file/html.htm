<div class="edit">
    <label for="image" style="background: url(/style/shop/images/myHouseEdit2.png) 0 0 no-repeat;
width: 32px;
height: 32px;
background-size: contain; display:inline-block;"></label>
    <input id="image"  name="image"   type="file" onchange='uploadFile("image");' style="display:none;">
</div>

<script type="text/javascript">
    //异步上传
    function uploadFile(elementId){
        if($('#'+elementId).val()){
            $.ajaxFileUpload(
                    {
                        url:'/imgup',//用于文件上传的服务器端请求地址
                        secureuri:false,//一般设置为false
                        fileElementId:elementId,//文件上传空间的id属性  <input type="file" id="file" name="file" />
                        dataType: 'json',//返回值类型 一般设置为json
                        success: function (data)  //服务器成功响应处理函数
                        {
                            $("#banner .shop_banner").attr('src',data.imgurl);
                        },
                        error: function (data, status, e)//服务器响应失败处理函数
                        {
                            alert("文件上传失败");
                        }
                    }
            )
        }else{
            alert("未选择上传文件");
        }
    }
</script>
